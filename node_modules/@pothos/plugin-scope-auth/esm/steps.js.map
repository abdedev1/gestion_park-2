{"version":3,"sources":["../src/steps.ts"],"names":["isThenable","createTypeAuthScopesStep","authScopes","type","run","state","parent","args","context","info","evaluateTypeScopeFunction","errorMessage","evaluateScopeMap","createTypeGrantScopesStep","grantScopes","forField","grantTypeScopes","path","prev","createFieldAuthScopesStep","parentType","fieldName","scopeMap","then","resolved","createFieldGrantScopesStep","saveGrantedScopes","result","createResolveStep","resolver","setResolved","Promise","resolve"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}