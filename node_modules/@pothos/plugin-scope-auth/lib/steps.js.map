{"version":3,"sources":["../src/steps.ts"],"names":["createFieldAuthScopesStep","createFieldGrantScopesStep","createResolveStep","createTypeAuthScopesStep","createTypeGrantScopesStep","authScopes","type","run","state","parent","args","context","info","evaluateTypeScopeFunction","errorMessage","evaluateScopeMap","grantScopes","forField","grantTypeScopes","path","prev","parentType","fieldName","scopeMap","isThenable","then","resolved","saveGrantedScopes","result","resolver","setResolved","Promise","resolve"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}