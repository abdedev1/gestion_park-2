import { MaybePromise, SchemaTypes } from '@pothos/core';
import { ConnectionShape, DefaultConnectionArguments } from '../types.js';
type RemoveMaybePromiseProps<T> = {
    [K in keyof T]: Awaited<T[K]>;
};
interface ResolveOffsetConnectionOptions {
    args: DefaultConnectionArguments;
    defaultSize?: number;
    maxSize?: number;
}
export interface ResolveCursorConnectionOptions<T> {
    args: DefaultConnectionArguments;
    defaultSize?: number;
    maxSize?: number;
    toCursor: (value: T, nodes: T[]) => string;
}
export interface ResolveCursorConnectionArgs {
    before?: string;
    after?: string;
    limit: number;
    inverted: boolean;
}
interface ResolveArrayConnectionOptions {
    args: DefaultConnectionArguments;
    defaultSize?: number;
    maxSize?: number;
}
export declare function offsetForArgs(options: ResolveOffsetConnectionOptions): {
    offset: number;
    limit: number;
    hasPreviousPage: boolean;
    expectedSize: number;
    hasNextPage: (resultSize: number) => boolean;
};
export declare function resolveOffsetConnection<T, U extends Promise<readonly T[] | null> | readonly T[] | null>(options: ResolveOffsetConnectionOptions, resolve: (params: {
    offset: number;
    limit: number;
}) => U & (MaybePromise<readonly T[] | null> | null)): Promise<RemoveMaybePromiseProps<ConnectionShape<SchemaTypes, NonNullable<T>, U extends NonNullable<U> ? (Promise<null> extends U ? true : false) : true, T extends NonNullable<T> ? false : {
    list: false;
    items: true;
}, false>>>;
export declare function cursorToOffset(cursor: string): number;
export declare function offsetToCursor(offset: number): string;
export declare function resolveArrayConnection<T>(options: ResolveArrayConnectionOptions, array: readonly T[]): RemoveMaybePromiseProps<ConnectionShape<SchemaTypes, NonNullable<T>, false, T extends NonNullable<T> ? false : {
    list: false;
    items: true;
}, false>>;
type NodeType<T> = T extends (infer N)[] | Promise<(infer N)[] | null> | null ? N : never;
export declare function resolveCursorConnection<U extends Promise<readonly unknown[] | null> | readonly unknown[] | null>(options: ResolveCursorConnectionOptions<NodeType<U>>, resolve: (params: ResolveCursorConnectionArgs) => U): Promise<RemoveMaybePromiseProps<ConnectionShape<SchemaTypes, NodeType<U>, false, false, false>>>;
export {};
//# sourceMappingURL=connections.d.ts.map
